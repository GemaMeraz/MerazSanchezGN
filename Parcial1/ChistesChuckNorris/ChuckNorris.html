<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body style="background-color:rgb(202, 202, 241) ;">
    <h1>Chistes de Chuck Norris</h1>
    <label for="nombre">Nombre</label>
    <input id="nombre" type="text"><br>
    <label for="apellido">Apellido</label>
    <input id="apellido" type="text"><br>

    <button id="btn" style="border-radius: 70px; margin: 20px;">Accion</button><br>
    <textarea name="broma" id="broma" cols="30" rows="10"></textarea>

    <script>
          document.getElementById('btn').addEventListener('click', async function() {
            var nombre = document.getElementById('nombre').value;
            var apellido = document.getElementById('apellido').value;

            console.log(nombre);
            console.log(apellido);
            let dato = await hacerPeticion();
            console.log(dato);
            
            document.getElementById('broma').value=dato.value.joke
             }); 

                async function hacerPeticion() {
                let respuesta = await fetch(`http://api.icndb.com/jokes/random?firstName=${nombre.value}&lastName=${apellido.value}`)
                let datojson = await respuesta.json();
                return datojson;
            }
        // document.getElementById('btn').addEventListener('click', async function(){
        //     var nom = document.getElementById('nombre').value;
        //     var ap =document.getElementById('apellido').value;
        //     let dato = await obtenerBroma();
        //     document.getElementById('broma').value=dato.value.joke
        // });

        // async function obtenerBroma(){
            
        //     let Pet= `http://api.icndb.com/jokes/random?firstName=${nombre.value}&lastName=${apellido.value}`;
        //     let headersList = {
        // "Accept": "*/*",
        // "User-Agent": "Thunder Client (https://www.thunderclient.com)"
        // }

        // let response = await fetch(Pet, { 
        //       method: "GET",
        //  headers: headersList
        //     });

        // let data = await response.json();
        // console.log(data);

        //}

    </script>

    

</body>
</html>